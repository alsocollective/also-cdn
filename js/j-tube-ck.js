(function(e){e.fn.Jtube=function(t){function o(t){r.timeCounterEl=document.createElement("div");r.timeCounterEl.id="time-counter";t.appendChild(r.timeCounterEl);e(r.timeCounterEl).css("right",r.skipvidWidth);setInterval(function(){if(r.videoLength&&r.player){var e=r.videoLength-r.player.getCurrentTime();e=u(Math.floor(e));r.timeCounterEl.innerHTML=e}},100)}function u(e){var t=Math.floor(e/60),n=e-60*t;n<10&&(n="0"+n);return t+":"+n}function a(){r.skipvidWidth=e(r.skipvidEl).outerWidth();r.skipvidHeight=e(r.skipvidEl).outerHeight();r.winW=e(window).width();e(r.timeLeftPos).css({height:r.skipvidHeight,width:100-r.skipvidWidth/r.winW*100+"%"})}function l(t){if(!r.cancle){r.iframeEl=e("#youtube-player")[0];r.player.playVideo();t.target.setPlaybackQuality("hd720");setTimeout(c,2e3);r.videoLength=r.player.getDuration();r.skipvid&&r.timeLeft&&setInterval(function(){r.videoLength?r.timeLeftPos.style.width=100-r.player.getCurrentTime()/r.videoLength*100-r.skipvidWidth/r.winW*100+"%":r.videoLength=r.player.getDuration()},50)}}function c(){if(!r.cancle){e(r.loadingEl).fadeOut("fast",function(){this.parentNode.removeChild(this)});e(r.iframeEl).addClass("jtube-animation");e(r.iframeEl).removeClass("hide");setTimeout(function(){e(r.iframeEl).removeClass("jtube-animation")},r.animationTime)}}function h(){e(r.iframeEl).addClass("jtube-animation");e(r.iframeEl).addClass("hide");setTimeout(function(){e(r.iframeEl).removeClass("jtube-animation")},r.animationTime)}function p(t){if(t.data==0){e(t.target.a).fadeOut("slow",function(){this.parentNode.removeChild(this)});r.skipvid&&e(r.bottomNav).fadeOut("slow",function(){this.parentNode.removeChild(this)});if(!r.loaded){function i(){return null}e("#splash").fadeIn("fast");r.ldCss&&e(r.ldCssEl).fadeOut("slow",function(){this.parentNode.removeChild(this)})}r.onDone()}else if(t.data==1){r.onStart();setTimeout(function(){e("#splash").fadeIn("slow");r.ldCss&&e(r.ldCssEl).fadeOut("slow",function(){this.parentNode.removeChild(this)});r.loaded=!0},200)}else t.data==2&&r.onPause();n&&t.data==n.PlayerState.BUFFERING&&t.target.setPlaybackQuality("hd720")}function d(){}function v(){}function m(){}function g(){if(r.fullscreen){r.winW=e(window).width();r.winH=e(window).height()+20;r.pW=r.winW;r.pH=r.winH;var t=r.winW/r.winH;if(r.winW/16>r.winH/9){r.pW=r.winW;r.pH=r.winH*(1+t)}else{r.pW=r.winW*(1+r.winH/r.winW+t);r.pH=r.winH}e(r.player.a).css({width:r.pW,height:r.pH,left:(r.winW-r.pW)/2,top:(r.winH-r.pH)/2})}}var n=null,r=e.extend({iframeEl:this[0],player:null,playerResizer:null,fullscreen:!0,animationTime:1e3,winW:0,winH:0,pW:0,pH:0,onDone:v,onStart:d,onPause:m,videoId:"LkQnJHAPHIU",loadingDiv:!1,loadingEl:null,loadingGif:"gif.gif",ldCss:!0,ldCssEl:null,ldCssFunc:null,bottomNav:null,skipvid:!0,skipvidEl:null,skipvidText:"skipVideo",skipvidWidth:0,skipvidHeight:0,timeLeft:!0,timeLeftPos:null,timePosColour:null,timePosGradient:[null,null,null],timeNegColour:null,timeCounter:!0,timeCounterEl:null,videoLength:0,loaded:!1,cancle:!1,skipWhash:!0,skipHash:"#skip-vid"},t);if(r.skipWhash){var i=window.location.hash;if(i.length>0){r.cancle=!0;p({data:0,target:{a:r.iframeEl}});return null}}if(r.loadingDiv){r.winW=e(window).width();r.winH=e(window).height();r.loadingEl=document.createElement("img");r.loadingEl.src=r.loadingGif;r.loadingEl.id="yt-loading-element";r.loadingEl.onload=function(){e(r.loadingEl).css({left:r.winW/2-r.loadingEl.width/2,top:r.winH/2-r.loadingEl.height/2});document.body.appendChild(r.loadingEl)}}if(r.skipvid){r.bottomNav=document.createElement("a");r.bottomNav.href="#skip-vid";r.bottomNav.id="yt-bottom-nav";r.skipvidEl=document.createElement("div");r.skipvidEl.id="yt-skip-video-button";r.skipvidEl.innerHTML=r.skipvidText;r.bottomNav.appendChild(r.skipvidEl);e(r.bottomNav).click(function(){r.cancle=!0;p({data:0,target:{a:r.iframeEl}})});if(r.timeLeft){r.timeLeftPos=document.createElement("div");r.timeLeftPos.id="yt-tl-pos";if(r.timePosColour==""&&r.timePosGradient[0]!=null){var s=e(r.timeLeftPos);s.css("background-image","-webkit-linear-gradient("+r.timePosGradient[0]+", "+r.timePosGradient[1]+" 0%,"+r.timePosGradient[2]+" 100%)");s.css("background-image","-moz-linear-gradient("+r.timePosGradient[0]+", "+r.timePosGradient[1]+" 0%,"+r.timePosGradient[2]+" 100%)");s.css("background-image","-o-linear-gradient("+r.timePosGradient[0]+", "+r.timePosGradient[1]+" 0%,"+r.timePosGradient[2]+" 100%)");s.css("background-image","linear-gradient("+r.timePosGradient[0]+", "+r.timePosGradient[1]+" 0%,"+r.timePosGradient[2]+" 100%)")}else r.timeLeftPos.style.backgroundColor=r.timePosColour;r.bottomNav.style.backgroundColor=r.timeNegColour;r.bottomNav.appendChild(r.timeLeftPos);document.body.appendChild(r.bottomNav);a();r.timeCounter&&o(r.timeLeftPos)}else{e(r.skipvidEl).css("position","absolute");document.body.appendChild(r.bottomNav)}}r.ldCss&&(r.ldCssEl=r.ldCssFunc());var f=document.createElement("script");f.src="https://www.youtube.com/iframe_api";r.iframeEl.parentNode.insertBefore(f,r.iframeEl);e(r.iframeEl).addClass("hide");this.setupPlayer=function(){if(n){r.player=new n.Player(r.iframeEl.id,{height:"390",width:"640",videoId:r.videoId,playerVars:{loop:0,autohide:0,controls:0,showinfo:0,hd:0,modestbranding:1,wmode:"opaque"},events:{onReady:l,onStateChange:p}});g();r.playerResizer=e(window).on("resize",g);window.addEventListener||p({data:1})}};return this}})(jQuery);
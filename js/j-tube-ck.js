(function(e){e.fn.Jtube=function(t){function s(t){n.timeCounterEl=document.createElement("div");n.timeCounterEl.id="time-counter";t.appendChild(n.timeCounterEl);e(n.timeCounterEl).css("right",n.skipvidWidth);setInterval(function(){if(n.videoLength&&n.player){var e=n.videoLength-n.player.getCurrentTime();e=o(Math.floor(e));n.timeCounterEl.innerHTML=e}},100)}function o(e){var t=Math.floor(e/60),n=e-60*t;n<10&&(n="0"+n);return t+":"+n}function u(){n.skipvidWidth=e(n.skipvidEl).outerWidth();n.skipvidHeight=e(n.skipvidEl).outerHeight();n.winW=e(window).width();e(n.timeLeftPos).css({height:n.skipvidHeight,width:100-n.skipvidWidth/n.winW*100+"%"})}function f(t){if(!n.cancle){n.iframeEl=e("#youtube-player")[0];n.player.playVideo();t.target.setPlaybackQuality("hd720");setTimeout(l,2e3);n.videoLength=n.player.getDuration();n.skipvid&&n.timeLeft&&setInterval(function(){n.videoLength?n.timeLeftPos.style.width=100-n.player.getCurrentTime()/n.videoLength*100-n.skipvidWidth/n.winW*100+"%":n.videoLength=n.player.getDuration()},50)}}function l(){if(!n.cancle){e(n.loadingEl).fadeOut("fast",function(){this.parentNode.removeChild(this)});e(n.iframeEl).addClass("jtube-animation");e(n.iframeEl).removeClass("hide");setTimeout(function(){e(n.iframeEl).removeClass("jtube-animation")},n.animationTime)}}function c(){e(n.iframeEl).addClass("jtube-animation");e(n.iframeEl).addClass("hide");setTimeout(function(){e(n.iframeEl).removeClass("jtube-animation")},n.animationTime)}function h(t){if(t.data==0){e(t.target.a).fadeOut("slow",function(){this.parentNode.removeChild(this)});n.skipvid&&e(n.bottomNav).fadeOut("slow",function(){this.parentNode.removeChild(this)});if(!n.loaded){function r(){return null}e("#splash").fadeIn("fast");n.ldCss&&e(n.ldCssEl).fadeOut("slow",function(){this.parentNode.removeChild(this)})}n.onDone()}else if(t.data==1){n.onStart();setTimeout(function(){e("#splash").fadeIn("slow");n.ldCss&&e(n.ldCssEl).fadeOut("slow",function(){this.parentNode.removeChild(this)});n.loaded=!0},200)}else t.data==2&&n.onPause();t.data==YT.PlayerState.BUFFERING&&t.target.setPlaybackQuality("hd720")}function p(){}function d(){}function v(){}function m(){if(n.fullscreen){n.winW=e(window).width();n.winH=e(window).height()+20;n.pW=n.winW;n.pH=n.winH;var t=n.winW/n.winH;if(n.winW/16>n.winH/9){n.pW=n.winW;n.pH=n.winH*(1+t)}else{n.pW=n.winW*(1+n.winH/n.winW+t);n.pH=n.winH}e(n.player.a).css({width:n.pW,height:n.pH,left:(n.winW-n.pW)/2,top:(n.winH-n.pH)/2})}}var n=e.extend({iframeEl:this[0],player:null,playerResizer:null,fullscreen:!0,animationTime:1e3,winW:0,winH:0,pW:0,pH:0,onDone:d,onStart:p,onPause:v,videoId:"LkQnJHAPHIU",loadingDiv:!1,loadingEl:null,loadingGif:"gif.gif",ldCss:!0,ldCssEl:null,ldCssFunc:null,bottomNav:null,skipvid:!0,skipvidEl:null,skipvidText:"skipVideo",skipvidWidth:0,skipvidHeight:0,timeLeft:!0,timeLeftPos:null,timePosColour:null,timePosGradient:[null,null,null],timeNegColour:null,timeCounter:!0,timeCounterEl:null,videoLength:0,loaded:!1,cancle:!1,skipWhash:!0,skipHash:"#skip-vid"},t);if(n.skipWhash){var r=window.location.hash;if(r.length>0){n.cancle=!0;h({data:0,target:{a:n.iframeEl}});return null}}if(n.loadingDiv){n.winW=e(window).width();n.winH=e(window).height();n.loadingEl=document.createElement("img");n.loadingEl.src=n.loadingGif;n.loadingEl.id="yt-loading-element";n.loadingEl.onload=function(){e(n.loadingEl).css({left:n.winW/2-n.loadingEl.width/2,top:n.winH/2-n.loadingEl.height/2});document.body.appendChild(n.loadingEl)}}if(n.skipvid){n.bottomNav=document.createElement("a");n.bottomNav.href="#skip-vid";n.bottomNav.id="yt-bottom-nav";n.skipvidEl=document.createElement("div");n.skipvidEl.id="yt-skip-video-button";n.skipvidEl.innerHTML=n.skipvidText;n.bottomNav.appendChild(n.skipvidEl);e(n.bottomNav).click(function(){n.cancle=!0;h({data:0,target:{a:n.iframeEl}})});if(n.timeLeft){n.timeLeftPos=document.createElement("div");n.timeLeftPos.id="yt-tl-pos";if(n.timePosColour==""&&n.timePosGradient[0]!=null){var i=e(n.timeLeftPos);i.css("background-image","-webkit-linear-gradient("+n.timePosGradient[0]+", "+n.timePosGradient[1]+" 0%,"+n.timePosGradient[2]+" 100%)");i.css("background-image","-moz-linear-gradient("+n.timePosGradient[0]+", "+n.timePosGradient[1]+" 0%,"+n.timePosGradient[2]+" 100%)");i.css("background-image","-o-linear-gradient("+n.timePosGradient[0]+", "+n.timePosGradient[1]+" 0%,"+n.timePosGradient[2]+" 100%)");i.css("background-image","linear-gradient("+n.timePosGradient[0]+", "+n.timePosGradient[1]+" 0%,"+n.timePosGradient[2]+" 100%)")}else n.timeLeftPos.style.backgroundColor=n.timePosColour;n.bottomNav.style.backgroundColor=n.timeNegColour;n.bottomNav.appendChild(n.timeLeftPos);document.body.appendChild(n.bottomNav);u();n.timeCounter&&s(n.timeLeftPos)}else{e(n.skipvidEl).css("position","absolute");document.body.appendChild(n.bottomNav)}}n.ldCss&&(n.ldCssEl=n.ldCssFunc());var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";n.iframeEl.parentNode.insertBefore(a,n.iframeEl);e(n.iframeEl).addClass("hide");this.setupPlayer=function(){n.player=new YT.Player(n.iframeEl.id,{height:"390",width:"640",videoId:n.videoId,playerVars:{loop:0,autohide:0,controls:0,showinfo:0,hd:0,modestbranding:1,wmode:"opaque"},events:{onReady:f,onStateChange:h}});m();n.playerResizer=e(window).on("resize",m);window.addEventListener||h({data:1})};return this}})(jQuery);